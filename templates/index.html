<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>휴양림 예약 모니터링</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="container">
    <h1>휴양림 예약 모니터링</h1>
    <button class="btn" onclick="startWorkflow()">모니터링 시작</button>
    <button class="btn" onclick="window.location.href='/edit'">리스트 편집</button>
    <p>예약 조건 (<span id="count">0</span>/15)</p>
    <div id="list"></div>
    <a href="/token" class="fab token">TOKEN</a>
</div>
<script src="/static/script.js"></script>
<script>
async function initIndex() {
    // ✅ GitHub → DB 동기화 후 렌더
    const syncRes = await fetch("/api/sync", { method: "POST" });
    if (!syncRes.ok) {
        console.error("Sync failed");
    }
    await render(); // ✅ sync 완료 후 실행
}
initIndex();
</script>
</body>
</html>
